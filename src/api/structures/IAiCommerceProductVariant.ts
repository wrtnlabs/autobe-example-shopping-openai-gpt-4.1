import { tags } from "typia";

/**
 * Represents a product option or variant SKU, containing unique business
 * attributes and current inventory/price/status data. Maps to
 * ai_commerce_product_variants in the DB, supporting product variant APIs and
 * UI detail lists.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAiCommerceProductVariant = {
  /**
   * Unique identifier for the product variant (UUID).
   *
   * This is a system-generated, immutable identifier aligned with the primary
   * key in the ai_commerce_product_variants table.
   */
  id: string & tags.Format<"uuid">;

  /**
   * The ID of the parent product (UUID).
   *
   * References ai_commerce_products.id. This field establishes a strict
   * parent-child relationship.
   */
  product_id: string & tags.Format<"uuid">;

  /**
   * Unique code for this SKU within the product.
   *
   * Must be unique among variants of a product as per schema constraint. Used
   * for business and logistics reference.
   */
  sku_code: string;

  /**
   * Human-readable summary of option/attributes for the variant (e.g., 'Size:
   * M / Color: Red').
   *
   * Represents the combination of values that define the variant.
   */
  option_summary: string;

  /**
   * Variant-specific price (overrides product price).
   *
   * This is the price for this particular variant, supporting dynamic and
   * promo pricing.
   */
  variant_price: number;

  /**
   * Available inventory for this variant (SKU).
   *
   * Represents current stock for this SKU. Used for sale/checkout validation.
   */
  inventory_quantity: number & tags.Type<"int32">;

  /**
   * Lifecycle/status of the SKU (e.g., 'active', 'paused', 'discontinued').
   *
   * Supports inventory/merchandising/availability business logic.
   */
  status: string;

  /**
   * Timestamp when the variant was created.
   *
   * This is an ISO8601 date-time (with timezone) for audit and history
   * tracking.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Timestamp when the variant was last updated.
   *
   * This is an ISO8601 date-time (with timezone) for audit and history
   * tracking.
   */
  updated_at: string & tags.Format<"date-time">;

  /**
   * Soft delete timestamp for the variant. Null if active.
   *
   * When set, the record is logically deleted but retained for
   * compliance/audit.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null | undefined;
};
export namespace IAiCommerceProductVariant {
  /**
   * Filtering, searching, and pagination structure for querying product
   * variants or options under a parent product. Used with PATCH endpoints for
   * M:N (many variants per product).
   */
  export type IRequest = {
    /** Filter by parent product UUID. */
    product_id?: (string & tags.Format<"uuid">) | undefined;

    /** Filter by SKU code (substring or exact match, as supported). */
    sku_code?: string | undefined;

    /** Filter by option summary (substring or exact match). */
    option_summary?: string | undefined;

    /** Filter by variant/SKU status (e.g., 'active', 'paused'). */
    status?: string | undefined;

    /** Minimum price filter. */
    min_price?: number | undefined;

    /** Maximum price filter. */
    max_price?: number | undefined;

    /** Lowest inventory filter. */
    min_inventory?: number | undefined;

    /** Maximum inventory filter. */
    max_inventory?: number | undefined;

    /** Page number for pagination (default = 1). */
    page?: (number & tags.Type<"int32">) | undefined;

    /** Number of records per page (default = system default, e.g., 20). */
    limit?: (number & tags.Type<"int32">) | undefined;

    /**
     * Optional sort parameter, e.g.,
     * 'variant_price:asc','inventory_quantity:desc'.
     */
    sort?: string | undefined;
  };

  /**
   * Request DTO for creating a product variant/option under a product.
   * Validates presence and uniqueness for SKU/option fields, ties variant to
   * parent product, and enforces business status requirements.
   */
  export type ICreate = {
    /**
     * The UUID of the parent product this variant SKU belongs to.
     *
     * Required. Must match an existing ai_commerce_products.id.
     */
    product_id: string & tags.Format<"uuid">;

    /**
     * Unique SKU/variant code within the parent product.
     *
     * Required. Must be unique within that product's variants.
     */
    sku_code: string;

    /**
     * Summary of option values (e.g., 'Size: M / Color: Red').
     *
     * Required.
     */
    option_summary: string;

    /**
     * Variant-specific price (overrides product price if set).
     *
     * Required. Must be >=0 (enforced at business logic layer).
     */
    variant_price: number;

    /**
     * Available inventory for this variant/SKU.
     *
     * Required. Must be >=0.
     */
    inventory_quantity: number & tags.Type<"int32">;

    /**
     * Variant/SKU status (e.g., 'active', 'paused', 'discontinued').
     *
     * Required. Must comply with business status enum/rules.
     */
    status: string;
  };

  /**
   * Request DTO for updating a variant's properties: code, option summary,
   * price, quantity, or status. All fields are optional and only provided
   * values will be updated.
   */
  export type IUpdate = {
    /** Update the unique SKU/variant code within the product. Optional. */
    sku_code?: string | undefined;

    /**
     * Update the options summary (e.g., after changing attribute
     * selection). Optional.
     */
    option_summary?: string | undefined;

    /** Update the variant-specific price. Optional. Must be >=0 if present. */
    variant_price?: number | undefined;

    /**
     * Update inventory for the variant/SKU. Optional. Must be >=0 if
     * present.
     */
    inventory_quantity?: (number & tags.Type<"int32">) | undefined;

    /**
     * Update lifecycle/status of the variant/SKU. Optional. E.g., 'active',
     * 'paused'.
     */
    status?: string | undefined;
  };

  /**
   * Summary of a product variant/SKU option for listing, inventory
   * management, and analytics.
   *
   * Contains fast-access display and operational fields for variant-centric
   * UI and reports.
   */
  export type ISummary = {
    /** Unique identifier for this product variant/SKU. */
    id: string & tags.Format<"uuid">;

    /** Unique SKU code for this variant within its parent product. */
    sku_code: string;

    /**
     * Human-readable description of the option set (e.g., 'Size: M / Color:
     * Red').
     */
    option_summary: string;

    /**
     * Variant-specific display price (overrides parent product price where
     * set).
     */
    variant_price: number;

    /** Stock available for this variant/SKU. */
    inventory_quantity: number & tags.Type<"int32">;

    /** Lifecycle status of the variant: active, paused, discontinued. */
    status: string;

    /** Variant creation timestamp. */
    created_at: string & tags.Format<"date-time">;

    /** Variant last updated timestamp. */
    updated_at: string & tags.Format<"date-time">;
  };
}
