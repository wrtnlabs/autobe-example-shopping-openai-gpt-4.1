import { tags } from "typia";

/**
 * Represents an external OAuth/social account linkage for a user. Fields mirror
 * shopping_mall_external_accounts Prisma schema. This is a response/detail
 * type; all fields are guaranteed to exist.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShoppingMallExternalAccount = {
  /** Primary key. Unique identifier of the external account association. */
  id: string & tags.Format<"uuid">;

  /** Linked customer ID (owner of this social/OAuth account association). */
  shopping_mall_customer_id: string & tags.Format<"uuid">;

  /**
   * OAuth/social provider identifier (e.g., google, apple, kakao, naver,
   * etc).
   */
  provider: string;

  /** Unique subject/account ID from the provider, e.g., openid subject. */
  external_user_id: string;

  /** Datetime when this external account was linked to the customer. */
  linked_at: string & tags.Format<"date-time">;

  /** Account linkage statusâ€”active, revoked, expired, pending, etc. */
  status: string;

  /** Creation timestamp. ISO 8601. */
  created_at: string & tags.Format<"date-time">;

  /** Last modification timestamp. ISO 8601. */
  updated_at: string & tags.Format<"date-time">;
};
export namespace IShoppingMallExternalAccount {
  /**
   * Advanced search/filter/pagination criteria for retrieving external
   * social/OAuth accounts associated with a customer. All properties are
   * optional and used for query construction.
   */
  export type IRequest = {
    /**
     * OAuth provider name. Defines the external identity provider (e.g.,
     * google, apple, kakao, naver, etc).
     */
    provider?: string | undefined;

    /** Account status (active, revoked, expired, pending). */
    status?: string | undefined;

    /** External provider's user identifier (subject/UID). */
    external_user_id?: string | undefined;

    /**
     * Start of date range filter (inclusive) for linked_at. ISO 8601
     * format.
     */
    linked_at_start?: (string & tags.Format<"date-time">) | undefined;

    /** End of date range filter (inclusive) for linked_at. ISO 8601 format. */
    linked_at_end?: (string & tags.Format<"date-time">) | undefined;

    /** Results page number for pagination (1-based index). */
    page?: (number & tags.Type<"int32"> & tags.Minimum<1>) | undefined;

    /** Maximum records per page for pagination. */
    limit?:
      | (number & tags.Type<"int32"> & tags.Minimum<1> & tags.Maximum<100>)
      | undefined;

    /** Sort field (e.g., linked_at, status, provider). */
    sort_by?: string | undefined;

    /** Sort order (asc/desc) for the selected sort_by field. */
    sort_order?: "asc" | "desc" | undefined;
  };

  /**
   * Payload to update an external account's metadata. May be used to set the
   * status (revoked, active, expired, etc.) or adjust linkage time. Only
   * mutable fields are included.
   */
  export type IUpdate = {
    /**
     * Updated status for the account linkage (e.g., active, revoked,
     * expired, pending).
     */
    status?: string | undefined;

    /**
     * (Admin only) Overwrite linkage timestamp. ISO 8601. Typically not
     * provided except for compliance data correction.
     */
    linked_at?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Summary DTO for an external OAuth/social account record attached to a
   * customer, for use in listing, audit, or OAuth account review. Corresponds
   * directly to the shopping_mall_external_accounts schema.
   */
  export type ISummary = {
    /**
     * Unique identifier for the external OAuth/social account record. UUID
     * as primary key.
     */
    id: string & tags.Format<"uuid">;

    /**
     * OAuth provider name associated with the account (e.g., 'google',
     * 'apple', 'kakao', 'naver', etc.).
     */
    provider: string;

    /**
     * Status of the external account binding: values such as 'active',
     * 'revoked', 'expired', 'pending', as recorded in the schema.
     */
    status: string;

    /**
     * Datetime the external account was linked to the customer. ISO 8601
     * format.
     */
    linked_at: string & tags.Format<"date-time">;

    /** UUID of the linked customer (shopping_mall_customers.id). */
    shopping_mall_customer_id: string & tags.Format<"uuid">;

    /**
     * Identifier for the user's account at the provider side (subject or
     * user_id). Does not reveal login secrets; purely for system
     * traceability.
     */
    external_user_id: string;

    /** Creation timestamp (ISO 8601) for the OAuth account record. */
    created_at: string & tags.Format<"date-time">;

    /** Last modified timestamp (ISO 8601) of this external account. */
    updated_at: string & tags.Format<"date-time">;
  };
}
