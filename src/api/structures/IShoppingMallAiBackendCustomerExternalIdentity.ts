import { tags } from "typia";

/**
 * External identity mapping between customer and a third-party authentication
 * provider account (OAuth/social SSO). Each record associates a customer with a
 * specific provider and external identity key. Follows
 * shopping_mall_ai_backend_customer_external_identities schema.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShoppingMallAiBackendCustomerExternalIdentity = {
  /** Unique identifier for the external identity mapping (UUID). */
  id: string & tags.Format<"uuid">;

  /** Referenced customer id (UUID). This must match an actual customer record. */
  customer_id: string & tags.Format<"uuid">;

  /** External identity provider (e.g., google, apple, naver, kakao). */
  provider: string;

  /** Provider-issued unique external key or ID. */
  provider_key: string;

  /** Timestamp of initial linkage (ISO 8601 string). */
  linked_at: string & tags.Format<"date-time">;

  /** Timestamp of last successful verification (nullable). */
  last_verified_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IShoppingMallAiBackendCustomerExternalIdentity {
  /** Parameterized request for external identity linkage and search. */
  export type IRequest = {
    provider?: string;
    provider_key?: string;
    linked_from?: string & tags.Format<"date-time">;
    linked_to?: string & tags.Format<"date-time">;
    page?: number & tags.Type<"int32"> & tags.Minimum<1>;
    limit?: number & tags.Type<"int32"> & tags.Minimum<1> & tags.Maximum<500>;
  };

  /** External identity summary for user profile and account management UIs. */
  export type ISummary = {
    id: string & tags.Format<"uuid">;
    provider: string;
    linked_at: string & tags.Format<"date-time">;
    last_verified_at?: (string & tags.Format<"date-time">) | null;
  };

  /**
   * Payload to link an external identity for a customer. No actor/customer
   * IDs are provided by userâ€”set in server logic.
   */
  export type ICreate = {
    provider: string;
    provider_key: string;
  };

  /**
   * Request fields to update an existing customer external identity mapping.
   * All fields optional; only provided fields will be changed.
   */
  export type IUpdate = {
    /** Update provider (optional), e.g., google, apple, etc. */
    provider?: string;

    /** Update external provider key/id (optional). */
    provider_key?: string;

    /** Set last-verified timestamp (ISO 8601 or null). */
    last_verified_at?: (string & tags.Format<"date-time">) | null;
  };
}
