import { tags } from "typia";

/**
 * Represents one product item line in an order, including references to
 * product, options/bundles, and snapshot data.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShoppingMallAiBackendOrderItem = {
  /** Primary key: Unique identifier for the order item. */
  id: string & tags.Format<"uuid">;

  /** UUID of the parent order. */
  order_id: string & tags.Format<"uuid">;

  /** UUID of the purchased product. */
  product_id: string & tags.Format<"uuid">;

  /** Nullable; refers to the option (color/size/etc). */
  product_option_id?: (string & tags.Format<"uuid">) | null;

  /** Nullable; refers to the bundle (for variant/SKU) within the order item. */
  product_bundle_id?: (string & tags.Format<"uuid">) | null;

  /**
   * Snapshot of product title at time of order, not necessarily current
   * product title.
   */
  product_title: string;

  /** Quantity for this line item. */
  quantity: number & tags.Type<"int32"> & tags.Minimum<1>;

  /** Unit price (at order time, pre-discount). */
  unit_price: number;

  /** Amount discounted for this item. */
  discount_amount: number;

  /** Final amount for this order item (after discounts). */
  final_amount: number;

  /** Currency code for this item. */
  currency: string;

  /** Current status code for this order item. */
  status: string;

  /** Creation timestamp for this line item. */
  created_at: string & tags.Format<"date-time">;

  /** Last updated timestamp for this line item. */
  updated_at: string & tags.Format<"date-time">;

  /** Soft delete timestamp. Null if item is active. */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IShoppingMallAiBackendOrderItem {
  /**
   * Request parameters for searching/filtering/paginating order items for a
   * given order. All fields optional for broad or filtered search.
   */
  export type IRequest = {
    /** Desired page number (1-based for paginated response). */
    page?: number & tags.Type<"int32"> & tags.Minimum<1>;

    /** Maximum number of items per page, for pagination control. */
    limit?: number & tags.Type<"int32"> & tags.Minimum<1> & tags.Maximum<100>;

    /** Filter by the parent order's UUID. */
    order_id?: string & tags.Format<"uuid">;

    /** Filter by associated product's UUID. */
    product_id?: string & tags.Format<"uuid">;

    /** Optionally filter by the current status of the order item. */
    status?: string;

    /** Filter by items created at or after this timestamp. */
    created_at?: string & tags.Format<"date-time">;

    /** Filter by items updated at or after this timestamp. */
    updated_at?: string & tags.Format<"date-time">;
  };

  /** Summary view of an order item for paginated list results. */
  export type ISummary = {
    /** Unique identifier (UUID) for the order item. */
    id: string & tags.Format<"uuid">;

    /** Order's unique identifier associated with the item. */
    order_id: string & tags.Format<"uuid">;

    /** UUID of the purchased product related to the item. */
    product_id: string & tags.Format<"uuid">;

    /** Snapshot of the product title as recorded at time of order. */
    product_title: string;

    /** Ordered quantity of this item. */
    quantity: number & tags.Type<"int32"> & tags.Minimum<1>;

    /** Final payment amount (after discounts) for this item line. */
    final_amount: number;

    /**
     * Current fulfillment/status code for this line item (e.g.,
     * 'pending','fulfilled','returned').
     */
    status: string;

    /** Timestamp when item was created. */
    created_at: string & tags.Format<"date-time">;
  };

  /**
   * Request payload to update mutable fields of a single order item. All
   * fields optional; includes audit evidence for update time.
   */
  export type IUpdate = {
    /**
     * Update the order item quantity, if permitted by status and business
     * rule.
     */
    quantity?: number & tags.Type<"int32"> & tags.Minimum<1>;

    /**
     * Modify the discount for this item, reflecting approved
     * after-sale/promotion.
     */
    discount_amount?: number;

    /** Final payment for this item line after any discount/update. */
    final_amount?: number;

    /**
     * Update status for after-sales, cancellation, or fulfillment (e.g.
     * 'cancelled', 'fulfilled', etc.).
     */
    status?: string;

    /** Timestamp of update for audit/compliance. */
    updated_at?: string & tags.Format<"date-time">;
  };
}
